<h1 id="fc">fc</h1>
<p>修改历史命令并执行</p>
<h2 id="补充说明">补充说明</h2>
<p><strong>fc命令</strong> 自动掉用vi编辑器修改已有历史命令，当保存时立即执行修改后的命令，也可以用来显示历史命令。fc命令编辑历史命令时，会自动调用vi编辑器。fc保存文件后，会自动执行所编辑过的命令。</p>
<h3 id="语法">语法</h3>
<pre class="language-"><code class="language-shell">fc <span class="token punctuation">[</span>-e 编辑器名<span class="token punctuation">]</span> <span class="token punctuation">[</span>-lnr<span class="token punctuation">]</span> <span class="token punctuation">[</span>起始<span class="token punctuation">]</span> <span class="token punctuation">[</span>终结<span class="token punctuation">]</span>
fc -s <span class="token punctuation">[</span>模式<span class="token operator">=</span>替换串<span class="token punctuation">]</span> <span class="token punctuation">[</span>命令<span class="token punctuation">]</span></code></pre>
<h3 id="选项">选项</h3>
<pre class="language-"><code class="language-shell">-l：显示历史命令；
-n：显示历史命令时，不显示编号；
-r：反序显示历史命令。</code></pre>
<h3 id="参数">参数</h3>
<ul>
<li>起始指令编号：指定要编辑的起始指令编号；</li>
<li>结尾指令编号：指定要编辑的结尾指令编号。</li>
</ul>
<h3 id="实例">实例</h3>
<p>使用该指令显示最近使用的10条历史命令，输入如下命令：</p>
<pre class="language-"><code class="language-shell"><span class="token punctuation">[</span>root@localhost ~<span class="token punctuation">]</span><span class="token comment"># fc -l -10     #显示10条历史命令</span>
<span class="token number">1039</span>     <span class="token builtin class-name">type</span> -a <span class="token function">grep</span>
<span class="token number">1040</span>     <span class="token builtin class-name">export</span>
<span class="token number">1041</span>     <span class="token function">history</span> <span class="token number">10</span>
<span class="token number">1042</span>     <span class="token builtin class-name">ulimit</span> -a
<span class="token number">1043</span>     <span class="token builtin class-name">shopt</span>
<span class="token number">1044</span>     <span class="token builtin class-name">help</span> <span class="token function">ls</span>
<span class="token number">1045</span>     <span class="token builtin class-name">help</span> <span class="token function">env</span>
<span class="token number">1046</span>     <span class="token builtin class-name">help</span> short
<span class="token number">1047</span>     <span class="token builtin class-name">help</span> <span class="token builtin class-name">shopt</span>
<span class="token number">1048</span>     showkey -a</code></pre>
<p>第一列信息是历史命令的编号，第二列信息是历史命令的具体格式。若用户需要编辑第1040条历史命令时，则输入如下命令：</p>
<pre class="language-"><code class="language-shell">fc <span class="token number">1040</span>                    <span class="token comment">#编辑第1040条历史命令</span></code></pre>
<p>命令执行成功后，将自动调用vi编辑器编辑指定的命令，编辑完成后保存，会自动执行修改后的命令。当用户在vi编辑器中修改指令并保存后，被修改的命令会被自动调用并执行。</p>
<!-- Linux命令行搜索引擎：https://jaywcjlove.github.io/linux-command/ -->
